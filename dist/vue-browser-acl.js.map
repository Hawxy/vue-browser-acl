{"version":3,"sources":["/Users/mblarsen/workspace/mblarsen/vue-browser-acl/vue-browser-acl.js","/Users/mblarsen/workspace/mblarsen/vue-browser-acl/webpack/bootstrap 7c27ef834ef3d3996389","/Users/mblarsen/workspace/mblarsen/vue-browser-acl/index.js","/Users/mblarsen/workspace/mblarsen/vue-browser-acl/external \"vue\"","/Users/mblarsen/workspace/mblarsen/vue-browser-acl/external \"browser-acl\""],"names":["module","exports","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","__webpack_exports__","_toConsumableArray","arr","Array","isArray","arr2","length","from","_toArray","commentNode","el","vnode","comment","document","createComment","value","text","elm","isComment","context","undefined","tag","data","directives","componentInstance","$el","parentNode","replaceChild","__WEBPACK_IMPORTED_MODULE_0_vue__","__WEBPACK_IMPORTED_MODULE_0_vue___default","__WEBPACK_IMPORTED_MODULE_1_browser_acl__","__WEBPACK_IMPORTED_MODULE_1_browser_acl___default","_slicedToArray","sliceIterator","_arr","_n","_d","_e","_s","_i","Symbol","iterator","next","done","push","err","TypeError","user","setupCallback","options","arguments","aclOptions","userAccessor","assign","caseMode","helper","directive","acl","a","binding","_acl","behaviour","modifiers","disable","verb","subject","params","_binding$value","slice","_binding$value$split","split","_binding$value$split2","match","Error","aclMethod","some","every","apply","concat","disabled","use","install","Vue","_acl2","can","_acl3","_acl4","require"],"mappings":"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","file":"vue-browser-acl.js","sourcesContent":["module.exports =\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/*!************************!*\\\n  !*** multi ./index.js ***!\n  \\************************/\n/*! dynamic exports provided */\n/*! all exports used */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(/*! /Users/mblarsen/workspace/mblarsen/vue-browser-acl/index.js */1);\n\n\n/***/ }),\n/* 1 */\n/*!******************!*\\\n  !*** ./index.js ***!\n  \\******************/\n/*! exports provided: default */\n/*! all exports used */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(/*! vue */ 2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_browser_acl__ = __webpack_require__(/*! browser-acl */ 3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_browser_acl___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_browser_acl__);\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _toArray(arr) { return Array.isArray(arr) ? arr : Array.from(arr); }\n\n\n\n\n/**\n * VueAcl constructor function\n *\n * ```javascript\n * import VueAcl from 'vue-browser-acl'\n *\n * VueAcl(() => user, (acl) => {\n *   acl.rule(view, Post)\n *   acl.rule([edit, delete], Post, (user, post) => post.userId === user.id)\n *   acl.rule('moderate', Post, (user) => user.isModerator())\n * })\n * ```\n *\n * @access public\n * @param {Function|Object} user A user instance or a function that returns the user\n * @param {Function|Object} setupCallback A configured Acl instance or a callback callback that\n *                                        adds rules and policies.\n * @param {Object} options={}\n * @param {Boolean} [options.directive='can'] Name of the directive, and helper function\n * @param {Boolean} [options.helper=true] Adds helper function\n * @param {Boolean} [options.caseMode=true] When true lower case subjects will be\n *                                          looked up on the vue context\n * @param {Object} aclOptions={} Options passed to the Acl constructor\n */\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (user, setupCallback) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var aclOptions = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n\n  /* ensure userAccessor is function */\n  var userAccessor = typeof user === 'function' ? user : function () {\n    return user;\n  };\n\n  /* defaults */\n  options = Object.assign({\n    caseMode: true,\n    helper: true,\n    directive: 'can'\n  }, options);\n\n  /* setup acl */\n  var acl = setupCallback;\n  if (!(setupCallback instanceof __WEBPACK_IMPORTED_MODULE_1_browser_acl___default.a)) {\n    acl = new __WEBPACK_IMPORTED_MODULE_1_browser_acl___default.a(aclOptions);\n    setupCallback(acl);\n  }\n\n  /* create directive */\n  __WEBPACK_IMPORTED_MODULE_0_vue___default.a.directive(options.directive, function (el, binding, vnode) {\n    var _acl;\n\n    var behaviour = binding.modifiers.disable ? 'disable' : 'hide';\n\n    var verb = void 0,\n        subject = void 0,\n        params = void 0;\n    if (Array.isArray(binding.value)) {\n      var _binding$value = _toArray(binding.value);\n\n      verb = _binding$value[0];\n      subject = _binding$value[1];\n      params = _binding$value.slice(2);\n    } else if (typeof binding.value === 'string') {\n      var _binding$value$split = binding.value.split(' ');\n\n      var _binding$value$split2 = _slicedToArray(_binding$value$split, 2);\n\n      verb = _binding$value$split2[0];\n      subject = _binding$value$split2[1];\n\n      if (typeof subject === 'string' && options.caseMode && subject[0].match(/[a-z]/)) {\n        subject = vnode.context[subject];\n      }\n      params = [];\n    }\n\n    if (!verb || !subject) {\n      throw new Error('Missing verb or subject');\n    }\n\n    var aclMethod = binding.modifiers.some && 'some' || binding.modifiers.every && 'every' || 'can';\n    var ok = (_acl = acl)[aclMethod].apply(_acl, [userAccessor(), verb, subject].concat(_toConsumableArray(params)));\n\n    if (!ok) {\n      if (behaviour === 'hide') {\n        commentNode(el, vnode);\n      } else if (behaviour === 'disable') {\n        el.disabled = true;\n      }\n    }\n  });\n\n  if (options.helper) {\n    var helper = '$' + options.directive;\n    __WEBPACK_IMPORTED_MODULE_0_vue___default.a.use({\n      install: function install(Vue) {\n        Vue.prototype[helper] = function () {\n          var _acl2;\n\n          return (_acl2 = acl).can.apply(_acl2, [userAccessor()].concat(Array.prototype.slice.call(arguments)));\n        };\n        Vue.prototype[helper].every = function () {\n          var _acl3;\n\n          return (_acl3 = acl).every.apply(_acl3, [userAccessor()].concat(Array.prototype.slice.call(arguments)));\n        };\n        Vue.prototype[helper].some = function () {\n          var _acl4;\n\n          return (_acl4 = acl).some.apply(_acl4, [userAccessor()].concat(Array.prototype.slice.call(arguments)));\n        };\n      }\n    });\n  }\n});\n\n/**\n * Create comment node\n *\n * @private\n * @author https://stackoverflow.com/questions/43003976/a-custom-directive-similar-to-v-if-in-vuejs#43543814\n */\nfunction commentNode(el, vnode) {\n  var comment = document.createComment(' ');\n\n  Object.defineProperty(comment, 'setAttribute', {\n    value: function value() {\n      return undefined;\n    }\n  });\n\n  vnode.text = ' ';\n  vnode.elm = comment;\n  vnode.isComment = true;\n  vnode.context = undefined;\n  vnode.tag = undefined;\n  vnode.data.directives = undefined;\n\n  if (vnode.componentInstance) {\n    vnode.componentInstance.$el = comment;\n  }\n\n  if (el.parentNode) {\n    el.parentNode.replaceChild(comment, el);\n  }\n}\n\n/***/ }),\n/* 2 */\n/*!**********************!*\\\n  !*** external \"vue\" ***!\n  \\**********************/\n/*! dynamic exports provided */\n/*! exports used: default */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"vue\");\n\n/***/ }),\n/* 3 */\n/*!******************************!*\\\n  !*** external \"browser-acl\" ***!\n  \\******************************/\n/*! dynamic exports provided */\n/*! exports used: default */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"browser-acl\");\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// vue-browser-acl.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 7c27ef834ef3d3996389","import Vue from 'vue'\nimport Acl from 'browser-acl'\n\n/**\n * VueAcl constructor function\n *\n * ```javascript\n * import VueAcl from 'vue-browser-acl'\n *\n * VueAcl(() => user, (acl) => {\n *   acl.rule(view, Post)\n *   acl.rule([edit, delete], Post, (user, post) => post.userId === user.id)\n *   acl.rule('moderate', Post, (user) => user.isModerator())\n * })\n * ```\n *\n * @access public\n * @param {Function|Object} user A user instance or a function that returns the user\n * @param {Function|Object} setupCallback A configured Acl instance or a callback callback that\n *                                        adds rules and policies.\n * @param {Object} options={}\n * @param {Boolean} [options.directive='can'] Name of the directive, and helper function\n * @param {Boolean} [options.helper=true] Adds helper function\n * @param {Boolean} [options.caseMode=true] When true lower case subjects will be\n *                                          looked up on the vue context\n * @param {Object} aclOptions={} Options passed to the Acl constructor\n */\nexport default function (user, setupCallback, options = {}, aclOptions = {}) {\n  /* ensure userAccessor is function */\n  const userAccessor = typeof user === 'function' ? user : () => user\n\n  /* defaults */\n  options = Object.assign({\n    caseMode: true,\n    helper: true,\n    directive: 'can',\n  }, options)\n\n  /* setup acl */\n  let acl = setupCallback\n  if (!(setupCallback instanceof Acl)) {\n    acl = new Acl(aclOptions)\n    setupCallback(acl)\n  }\n\n  /* create directive */\n  Vue.directive(options.directive, function (el, binding, vnode) {\n    const behaviour = binding.modifiers.disable ? 'disable' : 'hide'\n\n    let verb, subject, params\n    if (Array.isArray(binding.value)) {\n      [verb, subject, ...params] = binding.value\n    } else if (typeof binding.value === 'string') {\n      [verb, subject] = binding.value.split(' ')\n      if (typeof subject === 'string' && options.caseMode && subject[0].match(/[a-z]/)) {\n        subject = vnode.context[subject]\n      }\n      params = []\n    }\n\n    if (!verb || !subject) {\n      throw new Error('Missing verb or subject')\n    }\n\n    const aclMethod = (binding.modifiers.some && 'some') || (binding.modifiers.every && 'every') || 'can'\n    const ok = acl[aclMethod](userAccessor(), verb, subject, ...params)\n\n    if (!ok) {\n      if (behaviour === 'hide') {\n        commentNode(el, vnode)\n      } else if (behaviour === 'disable') {\n        el.disabled = true\n      }\n    }\n  })\n\n  if (options.helper) {\n    const helper = `$${options.directive}`\n    Vue.use({\n      install(Vue) {\n        Vue.prototype[helper] = function () {\n          return acl.can(userAccessor(), ...arguments)\n        }\n        Vue.prototype[helper].every = function () {\n          return acl.every(userAccessor(), ...arguments)\n        }\n        Vue.prototype[helper].some = function () {\n          return acl.some(userAccessor(), ...arguments)\n        }\n      }\n    })\n  }\n}\n\n/**\n * Create comment node\n *\n * @private\n * @author https://stackoverflow.com/questions/43003976/a-custom-directive-similar-to-v-if-in-vuejs#43543814\n */\nfunction commentNode(el, vnode) {\n  const comment = document.createComment(' ')\n\n  Object.defineProperty(comment, 'setAttribute', {\n    value: () => undefined\n  })\n\n  vnode.text = ' '\n  vnode.elm = comment\n  vnode.isComment = true\n  vnode.context = undefined\n  vnode.tag = undefined\n  vnode.data.directives = undefined\n\n  if (vnode.componentInstance) {\n    vnode.componentInstance.$el = comment\n  }\n\n  if (el.parentNode) {\n    el.parentNode.replaceChild(comment, el)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./index.js","module.exports = require(\"vue\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"vue\"\n// module id = 2\n// module chunks = 0","module.exports = require(\"browser-acl\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"browser-acl\"\n// module id = 3\n// module chunks = 0"],"sourceRoot":""}