{"version":3,"sources":["webpack:///vue-browser-acl.js","webpack:///webpack/bootstrap 6e846af8028afaa7e9d0","webpack:///./index.js","webpack:///external \"browser-acl\""],"names":["module","exports","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","__webpack_exports__","_toConsumableArray","arr","Array","isArray","arr2","length","from","commentNode","el","vnode","comment","document","createComment","value","text","elm","isComment","tag","undefined","data","directives","componentInstance","$el","parentNode","replaceChild","__WEBPACK_IMPORTED_MODULE_0_browser_acl__","__WEBPACK_IMPORTED_MODULE_0_browser_acl___default","_typeof","Symbol","iterator","obj","constructor","_slicedToArray","sliceIterator","_arr","_n","_d","_e","_s","_i","next","done","push","err","TypeError","install","Vue","user","setupCallback","options","arguments","userAccessor","strict","Boolean","assign","acl","caseMode","helper","directive","failRoute","assumeGlobal","a","router","beforeEach","to","meta","can","fail","next_","verb","subject","_len","otherArgs","_key","_acl","apply","concat","_split","split","_split2","_split2$","_split2$2","path","binding","_acl2","behaviour","modifiers","disable","verbArg","params","arg","_ref","global","arrayToGlobalExprTpl","arrayToExprTpl","_ref2","_stringToExprTpl","stringToExprTpl","_stringToExprTpl2","Error","aclMethod","some","every","ok","not","disabled","_acl3","slice","_acl4","_acl5","_acl6","_ref3","_ref4","_ref5","_ref6","_ref7","match","context","require"],"mappings":"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","file":"vue-browser-acl.js","sourcesContent":["module.exports =\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/*!************************!*\\\n  !*** multi ./index.js ***!\n  \\************************/\n/*! dynamic exports provided */\n/*! all exports used */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(/*! /Users/mblarsen/workspace/mblarsen/vue-browser-acl/index.js */1);\n\n\n/***/ }),\n/* 1 */\n/*!******************!*\\\n  !*** ./index.js ***!\n  \\******************/\n/*! exports provided: default */\n/*! all exports used */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_browser_acl__ = __webpack_require__(/*! browser-acl */ 2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_browser_acl___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_browser_acl__);\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n\n\n/**\n * VueAcl constructor function\n *\n * ```javascript\n * import Vue from 'vue'\n * import Acl from 'vue-browser-acl'\n *\n * Vue.use(Acl, user, (acl) => {\n *   acl.rule(view, Post)\n *   acl.rule([edit, delete], Post, (user, post) => post.userId === user.id)\n *   acl.rule('moderate', Post, (user) => user.isModerator())\n * })\n * ```\n *\n * @access public\n * @param {Function|Object} user A user instance or a function that returns the user\n * @param {Function|Object} setupCallback A configured Acl instance or a callback callback that adds rules and policies.\n * @param {Object}   options={}\n * @param {Object}  [options.acl={}] Options passed to the Acl constructor\n * @param {Boolean} [options.caseMode=true] When true lower case subjects will be looked up on the vue context\n * @param {Boolean} [options.directive='can'] Name of the directive, and helper function\n * @param {Boolean} [options.helper=true] Adds helper function\n * @param {Boolean} [options.strict=false] Causes redirect to fail route if route permissions are absent\n * @param {String|Object} [options.failRoute='/'] Set a default fail route\n * @param {Boolean} [options.assumeGlobal=true] If no subject is specified in route assume it is a global rule\n * @param {?Object}  options.router Vue router\n */\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  install: function install(Vue, user, setupCallback) {\n    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n\n    /* ensure userAccessor is function */\n    var userAccessor = typeof user === 'function' ? user : function () {\n      return user;\n    };\n\n    /* defaults */\n    var strict = Boolean(options.strict);\n    options = Object.assign({\n      acl: { strict: strict },\n      caseMode: true,\n      helper: true,\n      directive: 'can',\n      strict: false,\n      failRoute: '/',\n      assumeGlobal: !strict\n    }, options);\n\n    /* setup acl */\n    var acl = setupCallback;\n    if (!(setupCallback instanceof __WEBPACK_IMPORTED_MODULE_0_browser_acl___default.a)) {\n      acl = new __WEBPACK_IMPORTED_MODULE_0_browser_acl___default.a(options.acl);\n      setupCallback(acl);\n    }\n\n    /* router init function */\n    acl.router = function (router) {\n      options.router = router;\n      router.beforeEach(function (to, from, next) {\n        if (!to.meta || !to.meta.can) return next();\n\n        var fail = to.meta.fail || options.failRoute;\n        var meta = to.meta || {};\n\n        if (typeof meta.can === 'function') {\n          var next_ = function next_(verb, subject) {\n            for (var _len = arguments.length, otherArgs = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n              otherArgs[_key - 2] = arguments[_key];\n            }\n\n            var _acl;\n\n            if (subject && (_acl = acl).can.apply(_acl, [userAccessor(), verb, subject].concat(otherArgs)) || !subject && !options.strict) {\n              return next();\n            }\n            next(fail);\n          };\n          return meta.can(to, from, next_);\n        }\n\n        var _split = (meta.can || '').split(' '),\n            _split2 = _slicedToArray(_split, 2),\n            _split2$ = _split2[0],\n            verb = _split2$ === undefined ? null : _split2$,\n            _split2$2 = _split2[1],\n            subject = _split2$2 === undefined ? options.assumeGlobal ? __WEBPACK_IMPORTED_MODULE_0_browser_acl__[\"GlobalRule\"] : null : _split2$2;\n\n        if (subject && acl.can(userAccessor(), verb, subject) || !subject && !options.strict) {\n          return next();\n        }\n\n        next(fail === '$from' ? from.path : fail);\n      });\n    };\n\n    /* init router */\n    if (options.router) {\n      acl.router(options.router);\n    }\n\n    /* create directive */\n    Vue.directive(options.directive, function (el, binding, vnode) {\n      var _acl2;\n\n      var behaviour = binding.modifiers.disable ? 'disable' : \"hide\";\n\n      var verb = void 0,\n          verbArg = void 0,\n          subject = void 0,\n          params = void 0;\n      verbArg = binding.arg;\n      if (Array.isArray(binding.value)) {\n        var _ref = binding.modifiers.global ? arrayToGlobalExprTpl(binding) : arrayToExprTpl(binding);\n\n        var _ref2 = _slicedToArray(_ref, 3);\n\n        verb = _ref2[0];\n        subject = _ref2[1];\n        params = _ref2[2];\n      } else if (typeof binding.value === 'string') {\n        var _stringToExprTpl = stringToExprTpl(binding, vnode, options);\n\n        var _stringToExprTpl2 = _slicedToArray(_stringToExprTpl, 3);\n\n        verb = _stringToExprTpl2[0];\n        subject = _stringToExprTpl2[1];\n        params = _stringToExprTpl2[2];\n      } else if (verbArg && _typeof(binding.value) === 'object') {\n        verb = verbArg;\n        subject = binding.value;\n        params = [];\n      } else if (binding.value === undefined && !binding.modifiers.global && options.assumeGlobal) {\n        // Fall back to global if no value is provided\n        verb = verbArg;\n        subject = __WEBPACK_IMPORTED_MODULE_0_browser_acl__[\"GlobalRule\"];\n        params = [];\n      }\n\n      if (options.assumeGlobal && !subject) {\n        subject = __WEBPACK_IMPORTED_MODULE_0_browser_acl__[\"GlobalRule\"];\n        params = params || [];\n        verb = verb || verbArg;\n      }\n\n      if (!verb || !subject) {\n        throw new Error('Missing verb or subject');\n      }\n\n      var aclMethod = binding.modifiers.some && 'some' || binding.modifiers.every && 'every' || 'can';\n\n      var ok = (_acl2 = acl)[aclMethod].apply(_acl2, [userAccessor(), verb, subject].concat(_toConsumableArray(params)));\n      var not = binding.modifiers.not;\n\n      if (ok && not || !ok && !not) {\n        if (behaviour === 'hide') {\n          commentNode(el, vnode);\n        } else if (behaviour === 'disable') {\n          el.disabled = true;\n        }\n      }\n    });\n\n    /* define helpers */\n    if (options.helper) {\n      var helper = '$' + options.directive;\n      Vue.prototype[helper] = function () {\n        var _acl3;\n\n        return (_acl3 = acl).can.apply(_acl3, [userAccessor()].concat(Array.prototype.slice.call(arguments)));\n      };\n      Vue.prototype[helper].not = function () {\n        var _acl4;\n\n        return !(_acl4 = acl).can.apply(_acl4, [userAccessor()].concat(Array.prototype.slice.call(arguments)));\n      };\n      Vue.prototype[helper].every = function () {\n        var _acl5;\n\n        return (_acl5 = acl).every.apply(_acl5, [userAccessor()].concat(Array.prototype.slice.call(arguments)));\n      };\n      Vue.prototype[helper].some = function () {\n        var _acl6;\n\n        return (_acl6 = acl).some.apply(_acl6, [userAccessor()].concat(Array.prototype.slice.call(arguments)));\n      };\n    }\n  }\n\n  /**\n   * Create comment node\n   *\n   * @private\n   * @author https://stackoverflow.com/questions/43003976/a-custom-directive-similar-to-v-if-in-vuejs#43543814\n   */\n});function commentNode(el, vnode) {\n  var comment = document.createComment(' ');\n\n  Object.defineProperty(comment, 'setAttribute', {\n    value: function value() {\n      return undefined;\n    }\n  });\n\n  vnode.text = ' ';\n  vnode.elm = comment;\n  vnode.isComment = true;\n  vnode.tag = undefined;\n  vnode.data.directives = undefined;\n\n  if (vnode.componentInstance) {\n    vnode.componentInstance.$el = comment;\n  }\n\n  if (el.parentNode) {\n    el.parentNode.replaceChild(comment, el);\n  }\n}\n\n/**\n * Maps binding.value of type array to expression tuple\n */\nvar arrayToExprTpl = function arrayToExprTpl(_ref3) {\n  var arg = _ref3.arg,\n      value = _ref3.value;\n  return [arg || value[0], arg ? value[0] : value[1], arg ? value.slice(1) : value.slice(2)];\n};\n\n/**\n * Maps binding.value of type array to global expression tuple\n */\nvar arrayToGlobalExprTpl = function arrayToGlobalExprTpl(_ref4) {\n  var arg = _ref4.arg,\n      value = _ref4.value;\n  return [arg || value[0], __WEBPACK_IMPORTED_MODULE_0_browser_acl__[\"GlobalRule\"], arg ? value : value.slice(1)];\n};\n\n/**\n * Maps binding.value of type string to expression tuple\n */\nvar stringToExprTpl = function stringToExprTpl(_ref5, vnode, options) {\n  var arg = _ref5.arg,\n      value = _ref5.value,\n      modifiers = _ref5.modifiers;\n\n  var _ref6 = arg ? [arg, value] : value.split(' '),\n      _ref7 = _slicedToArray(_ref6, 2),\n      verb = _ref7[0],\n      subject = _ref7[1];\n\n  if (subject && modifiers.global) {\n    throw new Error('You cannot provide subject and use global modifier at the same time');\n  }\n\n  if (typeof subject === 'string' && options.caseMode && subject[0].match(/[a-z]/)) {\n    subject = vnode.context[subject];\n  }\n\n  return [verb, subject, []];\n};\n\n/***/ }),\n/* 2 */\n/*!******************************!*\\\n  !*** external \"browser-acl\" ***!\n  \\******************************/\n/*! dynamic exports provided */\n/*! exports used: GlobalRule, default */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"browser-acl\");\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// vue-browser-acl.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 6e846af8028afaa7e9d0","import Acl, { GlobalRule } from 'browser-acl'\n\n/**\n * VueAcl constructor function\n *\n * ```javascript\n * import Vue from 'vue'\n * import Acl from 'vue-browser-acl'\n *\n * Vue.use(Acl, user, (acl) => {\n *   acl.rule(view, Post)\n *   acl.rule([edit, delete], Post, (user, post) => post.userId === user.id)\n *   acl.rule('moderate', Post, (user) => user.isModerator())\n * })\n * ```\n *\n * @access public\n * @param {Function|Object} user A user instance or a function that returns the user\n * @param {Function|Object} setupCallback A configured Acl instance or a callback callback that adds rules and policies.\n * @param {Object}   options={}\n * @param {Object}  [options.acl={}] Options passed to the Acl constructor\n * @param {Boolean} [options.caseMode=true] When true lower case subjects will be looked up on the vue context\n * @param {Boolean} [options.directive='can'] Name of the directive, and helper function\n * @param {Boolean} [options.helper=true] Adds helper function\n * @param {Boolean} [options.strict=false] Causes redirect to fail route if route permissions are absent\n * @param {String|Object} [options.failRoute='/'] Set a default fail route\n * @param {Boolean} [options.assumeGlobal=true] If no subject is specified in route assume it is a global rule\n * @param {?Object}  options.router Vue router\n */\nexport default {\n  install: function (Vue, user, setupCallback, options = {}) {\n    /* ensure userAccessor is function */\n    const userAccessor = typeof user === 'function' ? user : () => user\n\n    /* defaults */\n    const strict = Boolean(options.strict)\n    options = Object.assign(\n      {\n        acl: { strict },\n        caseMode: true,\n        helper: true,\n        directive: 'can',\n        strict: false,\n        failRoute: '/',\n        assumeGlobal: !strict\n      },\n      options\n    )\n\n    /* setup acl */\n    let acl = setupCallback\n    if (!(setupCallback instanceof Acl)) {\n      acl = new Acl(options.acl)\n      setupCallback(acl)\n    }\n\n    /* router init function */\n    acl.router = function (router) {\n      options.router = router\n      router.beforeEach((to, from, next) => {\n        if (!to.meta || !to.meta.can) return next()\n\n        const fail = to.meta.fail || options.failRoute\n        const meta = to.meta || {}\n\n        if (typeof meta.can === 'function') {\n          const next_ = (verb, subject, ...otherArgs) => {\n            if (\n              (subject && acl.can(userAccessor(), verb, subject, ...otherArgs)) ||\n              (!subject && !options.strict)\n            ) {\n              return next()\n            }\n            next(fail)\n          }\n          return meta.can(to, from, next_)\n        }\n\n        const [\n          verb = null,\n          subject = options.assumeGlobal ? GlobalRule : null\n        ] = (meta.can || '').split(' ')\n\n        if (\n          (subject && acl.can(userAccessor(), verb, subject)) ||\n          (!subject && !options.strict)\n        ) {\n          return next()\n        }\n\n        next(fail === '$from' ? from.path : fail)\n      })\n    }\n\n    /* init router */\n    if (options.router) {\n      acl.router(options.router)\n    }\n\n    /* create directive */\n    Vue.directive(options.directive, function(el, binding, vnode) {\n      const behaviour = binding.modifiers.disable ? 'disable' : \"hide\"\n\n      let verb, verbArg, subject, params\n      verbArg = binding.arg\n      if (Array.isArray(binding.value)) {\n        [verb, subject, params] = binding.modifiers.global\n          ? arrayToGlobalExprTpl(binding)\n          : arrayToExprTpl(binding)\n      } else if (typeof binding.value === 'string') {\n        [verb, subject, params] = stringToExprTpl(binding, vnode, options)\n      } else if (verbArg && typeof binding.value === 'object') {\n        verb = verbArg\n        subject = binding.value\n        params = []\n      } else if (binding.value === undefined && !binding.modifiers.global && options.assumeGlobal) {\n        // Fall back to global if no value is provided\n        verb = verbArg\n        subject = GlobalRule\n        params = []\n      }\n\n      if (options.assumeGlobal && !subject) {\n        subject = GlobalRule\n        params = params || []\n        verb = verb || verbArg\n      }\n\n      if (!verb || !subject) {\n        throw new Error('Missing verb or subject')\n      }\n\n      const aclMethod =\n        (binding.modifiers.some && 'some') ||\n        (binding.modifiers.every && 'every') ||\n        'can'\n\n      const ok = acl[aclMethod](userAccessor(), verb, subject, ...params)\n      const not = binding.modifiers.not\n\n      if ((ok && not) || (!ok && !not)) {\n        if (behaviour === 'hide') {\n          commentNode(el, vnode)\n        } else if (behaviour === 'disable') {\n          el.disabled = true\n        }\n      }\n    })\n\n    /* define helpers */\n    if (options.helper) {\n      const helper = `$${options.directive}`\n      Vue.prototype[helper] = function () {\n        return acl.can(userAccessor(), ...arguments)\n      }\n      Vue.prototype[helper].not = function () {\n        return !acl.can(userAccessor(), ...arguments)\n      }\n      Vue.prototype[helper].every = function () {\n        return acl.every(userAccessor(), ...arguments)\n      }\n      Vue.prototype[helper].some = function () {\n        return acl.some(userAccessor(), ...arguments)\n      }\n    }\n  }\n}\n\n/**\n * Create comment node\n *\n * @private\n * @author https://stackoverflow.com/questions/43003976/a-custom-directive-similar-to-v-if-in-vuejs#43543814\n */\nfunction commentNode(el, vnode) {\n  const comment = document.createComment(' ')\n\n  Object.defineProperty(comment, 'setAttribute', {\n    value: () => undefined\n  })\n\n  vnode.text = ' '\n  vnode.elm = comment\n  vnode.isComment = true\n  vnode.tag = undefined\n  vnode.data.directives = undefined\n\n  if (vnode.componentInstance) {\n    vnode.componentInstance.$el = comment\n  }\n\n  if (el.parentNode) {\n    el.parentNode.replaceChild(comment, el)\n  }\n}\n\n/**\n * Maps binding.value of type array to expression tuple\n */\nconst arrayToExprTpl = ({arg, value}) => ([\n  arg || value[0],\n  arg ? value[0] : value[1],\n  arg ? value.slice(1) : value.slice(2)\n])\n\n/**\n * Maps binding.value of type array to global expression tuple\n */\nconst arrayToGlobalExprTpl = ({arg, value}) => ([\n  arg || value[0],\n  GlobalRule,\n  arg ? value : value.slice(1)\n])\n\n/**\n * Maps binding.value of type string to expression tuple\n */\nconst stringToExprTpl = ({arg, value, modifiers}, vnode, options) => {\n  let [verb, subject] = arg ? [arg, value] : value.split(' ')\n\n  if (subject && modifiers.global) {\n    throw new Error('You cannot provide subject and use global modifier at the same time')\n  }\n\n  if (\n    typeof subject === 'string' &&\n    options.caseMode &&\n    subject[0].match(/[a-z]/)\n  ) {\n    subject = vnode.context[subject]\n  }\n\n  return [verb, subject, []]\n}\n\n\n\n// WEBPACK FOOTER //\n// ./index.js","module.exports = require(\"browser-acl\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"browser-acl\"\n// module id = 2\n// module chunks = 0"],"sourceRoot":""}