module.exports=function(e){function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}var t={};return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},r.p="/",r(r.s=0)}([function(e,r,t){e.exports=t(1)},function(e,r,t){"use strict";function n(e){if(Array.isArray(e)){for(var r=0,t=Array(e.length);r<e.length;r++)t[r]=e[r];return t}return Array.from(e)}function o(e,r){var t=document.createComment(" ");Object.defineProperty(t,"setAttribute",{value:function(){}}),r.text=" ",r.elm=t,r.isComment=!0,r.tag=void 0,r.data.directives=void 0,r.componentInstance&&(r.componentInstance.$el=t),e.parentNode&&e.parentNode.replaceChild(t,e)}Object.defineProperty(r,"__esModule",{value:!0});var a=t(2),i=t.n(a),u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=function(){function e(e,r){var t=[],n=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(n=(i=u.next()).done)&&(t.push(i.value),!r||t.length!==r);n=!0);}catch(e){o=!0,a=e}finally{try{!n&&u.return&&u.return()}finally{if(o)throw a}}return t}return function(r,t){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return e(r,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();r.default={install:function(e,r,t){var p=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},v="function"==typeof r?r:function(){return r},y=Boolean(p.strict);p=Object.assign({acl:{strict:y},assumeGlobal:!y,caseMode:!0,debug:!1,directive:"can",failRoute:"/",helper:!0,strict:!1},p);var d=t;if(t instanceof i.a||(d=new i.a(p.acl),t(d)),d.router=function(e){p.router=e;var r=function(e,r){for(var t=arguments.length,n=Array(t>2?t-2:0),o=2;o<t;o++)n[o-2]=arguments[o];var a;return r&&(a=d).can.apply(a,[v(),e,r].concat(n))||!r&&!p.strict},t=function(e){var r=(e.can||"").split(" "),t=l(r,2),n=t[0],o=void 0===n?null:n,i=t[1];return[o,void 0===i?p.assumeGlobal?a.GlobalRule:null:i]},o=function(e,o,a){var i=null,u=e.reduce(function(e,u){return e.then(function(e){if(!0!==e)return e;i=u.fail;var l="function"==typeof u.can?u.can(o,a,r):Promise.resolve(r.apply(void 0,n(t(u))));if(p.strict&&!(l instanceof Promise))throw new Error("$route.meta.can must return a promise in strict mode");return l}).catch(function(e){return p.debug&&console.error(e),!1})},Promise.resolve(!0));return u.getFail=function(){return i},u};e.beforeEach(function(e,r,t){var n=e.matched.filter(function(e){return e.meta&&e.meta.can}).map(function(e){return e.meta}),a=o(n,e,r);a.then(function(e){if(!0===e)return t();var n="$from"===a.getFail()?r.path:a.getFail();t(n||p.failRoute)})})},p.router&&d.router(p.router),e.directive(p.directive,function(e,r,t){var i,y=r.modifiers.disable?"disable":"hide",m=void 0,b=void 0,h=void 0,g=void 0;if(b=r.arg,Array.isArray(r.value)){var A=r.modifiers.global?f(r):c(r),w=l(A,3);m=w[0],h=w[1],g=w[2]}else if("string"==typeof r.value){var x=s(r,t,p),j=l(x,3);m=j[0],h=j[1],g=j[2]}else b&&"object"===u(r.value)?(m=b,h=r.value,g=[]):void 0===r.value&&!r.modifiers.global&&p.assumeGlobal&&(m=b,h=a.GlobalRule,g=[]);if(p.assumeGlobal&&!h&&(h=a.GlobalRule,g=g||[],m=m||b),!m||!h)throw new Error("Missing verb or subject");var G=r.modifiers.some&&"some"||r.modifiers.every&&"every"||"can",O=(i=d)[G].apply(i,[v(),m,h].concat(n(g))),P=r.modifiers.not;(O&&P||!O&&!P)&&("hide"===y?o(e,t):"disable"===y?e.disabled=!0:"readonly"===y&&(e.readOnly=!0))}),p.helper){var m="$"+p.directive;e.prototype[m]=function(){var e;return(e=d).can.apply(e,[v()].concat(Array.prototype.slice.call(arguments)))},e.prototype[m].not=function(){var e;return!(e=d).can.apply(e,[v()].concat(Array.prototype.slice.call(arguments)))},e.prototype[m].every=function(){var e;return(e=d).every.apply(e,[v()].concat(Array.prototype.slice.call(arguments)))},e.prototype[m].some=function(){var e;return(e=d).some.apply(e,[v()].concat(Array.prototype.slice.call(arguments)))}}}};var c=function(e){var r=e.arg,t=e.value;return[r||t[0],r?t[0]:t[1],r?t.slice(1):t.slice(2)]},f=function(e){var r=e.arg,t=e.value;return[r||t[0],a.GlobalRule,r?t:t.slice(1)]},s=function(e,r,t){var n=e.arg,o=e.value,a=e.modifiers,i=n?[n,o]:o.split(" "),u=l(i,2),c=u[0],f=u[1];if(f&&a.global)throw new Error("You cannot provide subject and use global modifier at the same time");return"string"==typeof f&&t.caseMode&&f[0].match(/[a-z]/)&&(f=r.context[f]),[c,f,[]]}},function(e,r){e.exports=require("browser-acl")}]);
//# sourceMappingURL=vue-browser-acl.js.map