module.exports=function(r){function e(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return r[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var t={};return e.m=r,e.c=t,e.d=function(r,t,n){e.o(r,t)||Object.defineProperty(r,t,{configurable:!1,enumerable:!0,get:n})},e.n=function(r){var t=r&&r.__esModule?function(){return r.default}:function(){return r};return e.d(t,"a",t),t},e.o=function(r,e){return Object.prototype.hasOwnProperty.call(r,e)},e.p="/",e(e.s=0)}([function(r,e,t){r.exports=t(1)},function(r,e,t){"use strict";function n(r){if(Array.isArray(r)){for(var e=0,t=Array(r.length);e<r.length;e++)t[e]=r[e];return t}return Array.from(r)}function o(r,e){var t=document.createComment(" ");Object.defineProperty(t,"setAttribute",{value:function(){}}),e.text=" ",e.elm=t,e.isComment=!0,e.tag=void 0,e.data.directives=void 0,e.componentInstance&&(e.componentInstance.$el=t),r.parentNode&&r.parentNode.replaceChild(t,r)}Object.defineProperty(e,"__esModule",{value:!0});var a=t(2),i=t.n(a),u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},l=function(){function r(r,e){var t=[],n=!0,o=!1,a=void 0;try{for(var i,u=r[Symbol.iterator]();!(n=(i=u.next()).done)&&(t.push(i.value),!e||t.length!==e);n=!0);}catch(r){o=!0,a=r}finally{try{!n&&u.return&&u.return()}finally{if(o)throw a}}return t}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return r(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e.default={install:function(r,e,t){var p=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},v="function"==typeof e?e:function(){return e},y=Boolean(p.strict);p=Object.assign({acl:{strict:y},assumeGlobal:!y,caseMode:!0,directive:"can",failRoute:"/",helper:!0,strict:!1},p);var d=t;if(t instanceof i.a||(d=new i.a(p.acl),t(d)),d.router=function(r){p.router=r;var e=function(r,e){for(var t=arguments.length,n=Array(t>2?t-2:0),o=2;o<t;o++)n[o-2]=arguments[o];var a;return e&&(a=d).can.apply(a,[v(),r,e].concat(n))||!e&&!p.strict},t=function(r){var e=(r.can||"").split(" "),t=l(e,2),n=t[0],o=void 0===n?null:n,i=t[1];return[o,void 0===i?p.assumeGlobal?a.GlobalRule:null:i]},o=function(r,o,a){var i=null,u=r.reduce(function(r,u){return r.then(function(r){if(!0!==r)return r;i=u.fail;var l="function"==typeof u.can?u.can(o,a,e):Promise.resovle(e.apply(void 0,n(t(u))));if(p.strict&&!(l instanceof Promise))throw new Error("$route.meta.can must return a promise in strict mode");return l}).catch(function(r){return!1})},Promise.resolve(!0));return u.getFail=function(){return i},u};r.beforeEach(function(r,e,t){var n=r.matched.filter(function(r){return r.meta&&r.meta.can}).map(function(r){return r.meta}),a=o(n,r,e);a.then(function(r){if(!0===r)return t();var n="$from"===a.getFail()?e.path:a.getFail();t(n||p.failRoute)})})},p.router&&d.router(p.router),r.directive(p.directive,function(r,e,t){var i,y=e.modifiers.disable?"disable":"hide",m=void 0,b=void 0,h=void 0,g=void 0;if(b=e.arg,Array.isArray(e.value)){var A=e.modifiers.global?f(e):c(e),w=l(A,3);m=w[0],h=w[1],g=w[2]}else if("string"==typeof e.value){var x=s(e,t,p),j=l(x,3);m=j[0],h=j[1],g=j[2]}else b&&"object"===u(e.value)?(m=b,h=e.value,g=[]):void 0===e.value&&!e.modifiers.global&&p.assumeGlobal&&(m=b,h=a.GlobalRule,g=[]);if(p.assumeGlobal&&!h&&(h=a.GlobalRule,g=g||[],m=m||b),!m||!h)throw new Error("Missing verb or subject");var G=e.modifiers.some&&"some"||e.modifiers.every&&"every"||"can",O=(i=d)[G].apply(i,[v(),m,h].concat(n(g))),P=e.modifiers.not;(O&&P||!O&&!P)&&("hide"===y?o(r,t):"disable"===y?r.disabled=!0:"readonly"===y&&(r.readOnly=!0))}),p.helper){var m="$"+p.directive;r.prototype[m]=function(){var r;return(r=d).can.apply(r,[v()].concat(Array.prototype.slice.call(arguments)))},r.prototype[m].not=function(){var r;return!(r=d).can.apply(r,[v()].concat(Array.prototype.slice.call(arguments)))},r.prototype[m].every=function(){var r;return(r=d).every.apply(r,[v()].concat(Array.prototype.slice.call(arguments)))},r.prototype[m].some=function(){var r;return(r=d).some.apply(r,[v()].concat(Array.prototype.slice.call(arguments)))}}}};var c=function(r){var e=r.arg,t=r.value;return[e||t[0],e?t[0]:t[1],e?t.slice(1):t.slice(2)]},f=function(r){var e=r.arg,t=r.value;return[e||t[0],a.GlobalRule,e?t:t.slice(1)]},s=function(r,e,t){var n=r.arg,o=r.value,a=r.modifiers,i=n?[n,o]:o.split(" "),u=l(i,2),c=u[0],f=u[1];if(f&&a.global)throw new Error("You cannot provide subject and use global modifier at the same time");return"string"==typeof f&&t.caseMode&&f[0].match(/[a-z]/)&&(f=e.context[f]),[c,f,[]]}},function(r,e){r.exports=require("browser-acl")}]);
//# sourceMappingURL=vue-browser-acl.js.map